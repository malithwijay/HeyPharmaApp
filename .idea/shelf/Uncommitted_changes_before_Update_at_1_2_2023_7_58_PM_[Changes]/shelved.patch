Index: app/src/main/java/com/saclim/heypharmaapp/ShowPharmacy.kt
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.saclim.heypharmaapp\r\n\r\nimport android.os.Bundle\r\nimport androidx.appcompat.app.AppCompatActivity\r\n\r\nclass ShowPharmacy :AppCompatActivity() {\r\n    override fun onCreate(savedInstanceState: Bundle?) {\r\n        super.onCreate(savedInstanceState)\r\n        setContentView(R.layout.activity_pharmacy)\r\n    }\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/saclim/heypharmaapp/ShowPharmacy.kt b/app/src/main/java/com/saclim/heypharmaapp/ShowPharmacy.kt
--- a/app/src/main/java/com/saclim/heypharmaapp/ShowPharmacy.kt	(revision 369411b1b6cffc791feb5ed39f4d59f7341fa521)
+++ b/app/src/main/java/com/saclim/heypharmaapp/ShowPharmacy.kt	(date 1672669550168)
@@ -1,11 +1,212 @@
 package com.saclim.heypharmaapp
 
+import android.content.Intent
 import android.os.Bundle
+import android.text.Editable
+import android.text.TextWatcher
+import android.view.*
+import android.widget.EditText
+import android.widget.ImageView
+import android.widget.LinearLayout
+import android.widget.TextView
+import android.widget.Toast
 import androidx.appcompat.app.AppCompatActivity
+import androidx.appcompat.widget.SearchView
+import androidx.core.widget.addTextChangedListener
+import androidx.recyclerview.widget.LinearLayoutManager
+import androidx.recyclerview.widget.RecyclerView
+import cn.pedant.SweetAlert.SweetAlertDialog
+import com.bumptech.glide.Glide
+import com.google.android.material.bottomnavigation.BottomNavigationView
+import com.google.android.material.textfield.TextInputEditText
+import com.google.android.material.textfield.TextInputLayout
+import com.google.firebase.database.DataSnapshot
+import com.google.firebase.database.DatabaseError
+import com.google.firebase.database.DatabaseReference
+import com.google.firebase.database.FirebaseDatabase
+import com.google.firebase.database.ValueEventListener
+import kotlinx.android.synthetic.main.activity_dashboard.*
+import java.util.*
+import kotlin.collections.ArrayList
 
 class ShowPharmacy :AppCompatActivity() {
+    private lateinit var pharmacyRecycle:RecyclerView
+    private lateinit var pharmacyList: ArrayList<Pharmacy>
+    private lateinit var dataPharmacyList: ArrayList<Pharmacy>
+    private lateinit var tempPharmacyList: ArrayList<Pharmacy>
+    private lateinit var databaseReference: DatabaseReference
+    private lateinit var loadingDialog: SweetAlertDialog
+    private lateinit var errorDialog: SweetAlertDialog
+    private lateinit var textSearchPharmacy: EditText
+
     override fun onCreate(savedInstanceState: Bundle?) {
         super.onCreate(savedInstanceState)
         setContentView(R.layout.activity_pharmacy)
+
+
+        pharmacyRecycle = findViewById(R.id.MyPrescriptionRecycle)
+        pharmacyList = arrayListOf<Pharmacy>()
+        tempPharmacyList = arrayListOf<Pharmacy>()
+        dataPharmacyList = arrayListOf<Pharmacy>()
+        pharmacyRecycle.adapter=pharmacyAdapter()
+        pharmacyRecycle.layoutManager = LinearLayoutManager(this)
+        pharmacyRecycle.setHasFixedSize(true)
+        textSearchPharmacy = findViewById(R.id.textSearchPharmacy)
+
+
+        bottomNavigationView.background = null
+        bottomNavigationView.menu.getItem(0).isChecked=true
+
+        val mOnNavigationItemSelectedListener = BottomNavigationView.OnNavigationItemSelectedListener { item ->
+            when (item.itemId) {
+                R.id.Payment -> {
+                    val intent= Intent(this, Payment::class.java)
+                    finish()
+                    startActivity(intent)
+                    return@OnNavigationItemSelectedListener true
+                }
+
+                R.id.Profile -> {
+                    val intent= Intent(this, Profile::class.java)
+                    finish()
+                    startActivity(intent)
+                    return@OnNavigationItemSelectedListener true
+                }
+                R.id.Logout -> {
+                    val intent= Intent(this, LoginScreen::class.java)
+                    finish()
+                    startActivity(intent)
+                    return@OnNavigationItemSelectedListener true
+                }
+
+                R.id.Home -> {
+                    val intent= Intent(this, DashboardHome::class.java)
+                    finish()
+                    startActivity(intent)
+                    return@OnNavigationItemSelectedListener true
+                }
+
+
+            }
+            false
+        }
+
+        bottomNavigationView.setOnNavigationItemSelectedListener(mOnNavigationItemSelectedListener)
+        loadPharmacyDetails()
+
+        textSearchPharmacy.addTextChangedListener(object :TextWatcher{
+            override fun beforeTextChanged(p0: CharSequence?, p1: Int, p2: Int, p3: Int) {
+            }
+
+            override fun onTextChanged(p0: CharSequence?, p1: Int, p2: Int, p3: Int) {
+            }
+
+            override fun afterTextChanged(p0: Editable?) {
+                if(p0.isNullOrEmpty()){
+                    pharmacyList.clear()
+                    pharmacyList.addAll(dataPharmacyList)
+                    pharmacyRecycle.adapter?.notifyDataSetChanged()
+                }else{
+                    filter(p0.toString())
+                }
+            }
+        })
+    }
+
+
+    private fun loadPharmacyDetails(){
+        showLoadingMessage("Loading Pharmacy Details...")
+
+        databaseReference = FirebaseDatabase.getInstance().getReference("Pharmacy")
+
+        databaseReference.addValueEventListener(object : ValueEventListener {
+
+            override fun onDataChange(snapshot: DataSnapshot) {
+                if(snapshot.exists()){
+                    for(pharmacySnapshot in snapshot.children){
+                        val pharmacy = pharmacySnapshot.getValue(com.saclim.heypharmaapp.Pharmacy::class.java)
+                        if(pharmacy==null){showErrorMessage("Pharmacy Null")}
+                        pharmacyList.add(pharmacy!!)
+
+                    }
+                    dataPharmacyList.addAll(pharmacyList)
+                    pharmacyRecycle.adapter?.notifyDataSetChanged()
+                    loadingDialog.dismissWithAnimation()
+                }else{
+                    loadingDialog.dismissWithAnimation()
+                    showErrorMessage("Pharmacy Details are not available...")
+                }
+            }
+
+            override fun onCancelled(error: DatabaseError) {
+                loadingDialog.dismissWithAnimation()
+                showErrorMessage("Data is not available go back and try again")
+            }
+        })
+
+    }
+    private inner class pharmacyAdapter : RecyclerView.Adapter<PharmacyViewHolder>(){
+
+        override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): PharmacyViewHolder {
+            val itemView = LayoutInflater.from(parent.context).inflate(R.layout.select_pharmacy_recycler_item,
+                parent,false)
+
+            return PharmacyViewHolder(itemView)
+        }
+
+        override fun onBindViewHolder(holder: PharmacyViewHolder, position: Int) {
+            val currentItem = pharmacyList[position]
+
+            holder.txtReSelectPhaName.text=currentItem.Name
+            holder.txtReSelectPhaTp.text=currentItem.telephone
+            holder.txtReSelectPhaLocation.text=currentItem.Location
+            Glide.with(applicationContext)
+                .load(currentItem.ImagePharmacy)
+                .override(100, 70)
+                .into(holder.imgSelectPharmacy)
+
+            holder.select_pharmacy_recycle_click.setOnClickListener {
+                val selectedItem = pharmacyList[position]
+            }
+        }
+
+        override fun getItemCount(): Int {
+            return pharmacyList.size
+        }
+
+    }
+    private inner class PharmacyViewHolder(itemView : View): RecyclerView.ViewHolder(itemView){
+        val txtReSelectPhaName : TextView = itemView.findViewById(R.id.txtReSelectPhaName)
+        val txtReSelectPhaTp : TextView = itemView.findViewById(R.id.txtReSelectPhaTp)
+        val txtReSelectPhaLocation : TextView = itemView.findViewById(R.id.txtReSelectPhaLocation)
+        val imgSelectPharmacy : ImageView = itemView.findViewById(R.id.imgSelectPharmacy)
+        val select_pharmacy_recycle_click : LinearLayout = itemView.findViewById(R.id.select_pharmacy_recycle_click)
+    }
+
+    private fun filter(e:String){
+        val filteredItem = ArrayList<Pharmacy>()
+        for(item in pharmacyList){
+            if(item.Name!!.toLowerCase().contains(e.toLowerCase())){
+                filteredItem.add(item)
+            }
+        }
+        pharmacyList.clear()
+        pharmacyList.addAll(filteredItem)
+        pharmacyRecycle.adapter?.notifyDataSetChanged()
+    }
+
+    private fun showLoadingMessage(message:String){
+        loadingDialog = SweetAlertDialog(this,SweetAlertDialog.PROGRESS_TYPE)
+            .setTitleText("Please Wait...")
+            .setContentText(message)
+        loadingDialog.setCancelable(false)
+        loadingDialog.show()
+    }
+    private fun showErrorMessage(errorText:String){
+        errorDialog = SweetAlertDialog(this,SweetAlertDialog.ERROR_TYPE)
+        errorDialog.setCancelable(true)
+        errorDialog.setTitleText("Error...!")
+        errorDialog.setContentText(errorText)
+        errorDialog.show()
     }
 }
\ No newline at end of file
Index: app/src/main/res/layout/activity_pharmacy.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<LinearLayout\r\n    xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\r\n    xmlns:tools=\"http://schemas.android.com/tools\"\r\n    android:layout_width=\"match_parent\"\r\n    android:layout_height=\"match_parent\"\r\n    android:id=\"@+id/topprofilebar\"\r\n    android:orientation=\"vertical\"\r\n    tools:context=\".Pharmacy\"\r\n    android:background=\"@color/white\">\r\n\r\n\r\n\r\n    <com.google.android.material.appbar.AppBarLayout\r\n        android:id=\"@+id/appBarLayout\"\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:background=\"@drawable/rounded_bottom_appbar\"\r\n        app:elevation=\"0dp\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:layout_constraintTop_toTopOf=\"parent\">\r\n\r\n        <androidx.constraintlayout.widget.ConstraintLayout\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"match_parent\"\r\n            android:padding=\"10dp\">\r\n\r\n            <androidx.appcompat.widget.Toolbar\r\n                android:id=\"@+id/myToolbar\"\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"50dp\"\r\n                android:background=\"@color/bluegreen\"\r\n                android:minHeight=\"?attr/actionBarSize\"\r\n                android:theme=\"?attr/actionBarTheme\"\r\n                app:layout_constraintEnd_toEndOf=\"parent\"\r\n                app:layout_constraintHorizontal_bias=\"0.0\"\r\n                app:layout_constraintStart_toStartOf=\"parent\"\r\n                app:layout_constraintTop_toTopOf=\"parent\" />\r\n\r\n            <de.hdodenhof.circleimageview.CircleImageView\r\n                android:id=\"@+id/profile_image\"\r\n                android:layout_width=\"48dp\"\r\n                android:layout_height=\"48dp\"\r\n                android:src=\"@drawable/profile3\"\r\n                app:layout_constraintBottom_toBottomOf=\"parent\"\r\n                app:layout_constraintStart_toStartOf=\"parent\"\r\n                app:layout_constraintTop_toTopOf=\"parent\" />\r\n\r\n            <TextView\r\n                android:id=\"@+id/appname\"\r\n                android:layout_width=\"wrap_content\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_marginStart=\"12dp\"\r\n                android:text=\"HEY PHARMA\"\r\n                android:textColor=\"@color/lightblue\"\r\n                android:textSize=\"20sp\"\r\n                app:layout_constraintStart_toEndOf=\"@+id/profile_image\"\r\n                app:layout_constraintTop_toTopOf=\"@+id/profile_image\" />\r\n\r\n            <TextView\r\n                android:id=\"@+id/welcome\"\r\n                android:layout_width=\"wrap_content\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:text=\"Welcome Back Disha \"\r\n                android:textColor=\"@color/black\"\r\n                android:textSize=\"14sp\"\r\n                app:layout_constraintStart_toStartOf=\"@+id/appname\"\r\n                app:layout_constraintTop_toBottomOf=\"@+id/appname\" />\r\n\r\n            <ImageView\r\n                android:id=\"@+id/notificationsImage\"\r\n                android:layout_width=\"30dp\"\r\n                android:layout_height=\"30dp\" android:visibility=\"invisible\"\r\n                android:src=\"@drawable/ic_baseline_home_24\"\r\n                app:layout_constraintEnd_toEndOf=\"parent\"\r\n                app:layout_constraintTop_toTopOf=\"@+id/profile_image\" />\r\n\r\n\r\n        </androidx.constraintlayout.widget.ConstraintLayout>\r\n\r\n    </com.google.android.material.appbar.AppBarLayout>\r\n\r\n    <com.google.android.material.textview.MaterialTextView\r\n        android:id=\"@+id/Pharmacy\"\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:layout_marginStart=\"32dp\"\r\n        android:layout_marginTop=\"10dp\"\r\n        android:layout_marginEnd=\"32dp\"\r\n        android:layout_marginBottom=\"10dp\"\r\n        android:text=\"PHARMACY \"\r\n        android:textColor=\"@color/bluegreen\"\r\n        android:textSize=\"24dp\"\r\n        android:textStyle=\"bold\"\r\n        app:layout_constraintTop_toBottomOf=\"@id/appBarLayout\"\r\n        tools:ignore=\"MissingConstraints\" />\r\n\r\n\r\n    <ScrollView\r\n\r\n        android:layout_width=\"fill_parent\"\r\n        android:layout_height=\"380dp\">\r\n\r\n        <androidx.constraintlayout.widget.ConstraintLayout\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"200dp\">\r\n\r\n\r\n            <com.google.android.material.textfield.TextInputLayout\r\n                android:id=\"@+id/textSearchPharmacy\"\r\n                style=\"@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox\"\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_marginStart=\"32dp\"\r\n                android:layout_marginTop=\"32dp\"\r\n                android:layout_marginEnd=\"32dp\"\r\n                android:hint=\"Search\"\r\n                app:boxStrokeColor=\"@color/lightblue\"\r\n                app:helperTextTextColor=\"@color/red\"\r\n                app:hintTextColor=\"@color/lightblue\"\r\n                app:layout_constraintEnd_toEndOf=\"parent\"\r\n                app:layout_constraintStart_toStartOf=\"parent\"\r\n                app:startIconDrawable=\"@drawable/ic_baseline_search_24\"\r\n                tools:ignore=\"MissingConstraints\">\r\n\r\n                <com.google.android.material.textfield.TextInputEditText\r\n                    android:id=\"@+id/loginUsername\"\r\n                    android:layout_width=\"match_parent\"\r\n                    android:layout_height=\"wrap_content\" />\r\n            </com.google.android.material.textfield.TextInputLayout>\r\n\r\n\r\n\r\n            <androidx.recyclerview.widget.RecyclerView\r\n                android:id=\"@+id/MyPrescriptionRecycle\"\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_marginStart=\"0dp\"\r\n                android:layout_marginTop=\"20dp\"\r\n                android:layout_marginEnd=\"0dp\"\r\n                app:layout_constraintEnd_toEndOf=\"parent\"\r\n                app:layout_constraintStart_toStartOf=\"parent\"\r\n                app:layout_constraintTop_toBottomOf=\"@+id/textSearchPharmacy\"\r\n                tools:ignore=\"MissingConstraints\"\r\n                tools:listitem=\"@layout/select_pharmacy_recycler_item\">\r\n\r\n            </androidx.recyclerview.widget.RecyclerView>\r\n\r\n        </androidx.constraintlayout.widget.ConstraintLayout>\r\n\r\n\r\n\r\n    </ScrollView>\r\n\r\n    <androidx.coordinatorlayout.widget.CoordinatorLayout\r\n        android:layout_width=\"wrap_content\"\r\n        android:layout_height=\"match_parent\"\r\n        android:background=\"@android:color/transparent\">\r\n\r\n        <com.google.android.material.bottomappbar.BottomAppBar\r\n            android:id=\"@+id/bottomAppBar\"\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:layout_gravity=\"bottom\"\r\n            app:fabCradleMargin=\"20dp\"\r\n            app:fabCradleRoundedCornerRadius=\"20dp\"\r\n            app:fabCradleVerticalOffset=\"10dp\">\r\n\r\n            <com.google.android.material.bottomnavigation.BottomNavigationView\r\n                android:id=\"@+id/bottomNavigationView\"\r\n                android:layout_width=\"wrap_content\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_marginEnd=\"15dp\"\r\n                android:background=\"@android:color/transparent\"\r\n                app:menu=\"@menu/bottom_nav_menu\" />\r\n\r\n        </com.google.android.material.bottomappbar.BottomAppBar>\r\n\r\n        <com.google.android.material.floatingactionbutton.FloatingActionButton\r\n            android:id=\"@+id/fab\"\r\n            android:layout_width=\"wrap_content\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:src=\"@drawable/ic_add\"\r\n            app:layout_anchor=\"@id/bottomAppBar\"\r\n            android:backgroundTint=\"@color/bluegreen\"/>\r\n\r\n    </androidx.coordinatorlayout.widget.CoordinatorLayout>\r\n\r\n\r\n</LinearLayout>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/res/layout/activity_pharmacy.xml b/app/src/main/res/layout/activity_pharmacy.xml
--- a/app/src/main/res/layout/activity_pharmacy.xml	(revision 369411b1b6cffc791feb5ed39f4d59f7341fa521)
+++ b/app/src/main/res/layout/activity_pharmacy.xml	(date 1672668301398)
@@ -108,7 +108,7 @@
             android:layout_height="200dp">
 
 
-            <com.google.android.material.textfield.TextInputLayout
+            <EditText
                 android:id="@+id/textSearchPharmacy"
                 style="@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox"
                 android:layout_width="match_parent"
@@ -125,11 +125,11 @@
                 app:startIconDrawable="@drawable/ic_baseline_search_24"
                 tools:ignore="MissingConstraints">
 
-                <com.google.android.material.textfield.TextInputEditText
-                    android:id="@+id/loginUsername"
+                <!--<com.google.android.material.textfield.TextInputEditText
+                    android:id="@+id/searchPharmacy"
                     android:layout_width="match_parent"
-                    android:layout_height="wrap_content" />
-            </com.google.android.material.textfield.TextInputLayout>
+                    android:layout_height="wrap_content" />-->
+            </EditText>
 
 
 
Index: app/src/main/java/com/saclim/heypharmaapp/DashboardHome.kt
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.saclim.heypharmaapp\r\n\r\nimport android.content.Intent\r\nimport androidx.appcompat.app.AppCompatActivity\r\nimport android.os.Bundle\r\nimport androidx.cardview.widget.CardView\r\nimport com.google.android.material.bottomnavigation.BottomNavigationView\r\nimport kotlinx.android.synthetic.main.activity_dashboard.*\r\nimport kotlinx.android.synthetic.main.activity_dashboard.Pharmacy\r\nimport kotlinx.android.synthetic.main.activity_dashboard.bottomNavigationView\r\nimport kotlinx.android.synthetic.main.activity_pharmacy.*\r\n\r\nclass DashboardHome : AppCompatActivity() {\r\n\r\n    private lateinit var findMed:CardView\r\n    private lateinit var myPrescriptions:CardView\r\n    private lateinit var getQuote:CardView\r\n    private lateinit var pharmacy:CardView\r\n\r\n\r\n\r\n    override fun onCreate(savedInstanceState: Bundle?) {\r\n        super.onCreate(savedInstanceState)\r\n        setContentView(R.layout.activity_dashboard)\r\n\r\n        findMed = findViewById(R.id.FindMed)\r\n        myPrescriptions = findViewById(R.id.MyPrescriptions)\r\n        getQuote = findViewById(R.id.GetQuote)\r\n        pharmacy = findViewById(R.id.Pharmacy)\r\n\r\n        bottomNavigationView.background = null\r\n        bottomNavigationView.menu.getItem(0).isChecked=true\r\n        //bottomNavigationView.menu.getItem(2).isEnabled = false\r\n\r\n        val mOnNavigationItemSelectedListener = BottomNavigationView.OnNavigationItemSelectedListener { item ->\r\n            when (item.itemId) {\r\n                R.id.Payment -> {\r\n                    val intent= Intent(this, Payment::class.java)\r\n                    finish()\r\n                    startActivity(intent)\r\n                    return@OnNavigationItemSelectedListener true\r\n                }\r\n\r\n                R.id.Profile -> {\r\n                    val intent= Intent(this, Profile::class.java)\r\n                    finish()\r\n                    startActivity(intent)\r\n                    return@OnNavigationItemSelectedListener true\r\n                }\r\n                R.id.Logout -> {\r\n                    val intent= Intent(this, LoginScreen::class.java)\r\n                    finish()\r\n                    startActivity(intent)\r\n                    return@OnNavigationItemSelectedListener true\r\n                }\r\n\r\n                R.id.Home -> {\r\n                    val intent= Intent(this, DashboardHome::class.java)\r\n                    finish()\r\n                    startActivity(intent)\r\n                    return@OnNavigationItemSelectedListener true\r\n                }\r\n\r\n\r\n            }\r\n            false\r\n        }\r\n\r\n        bottomNavigationView.setOnNavigationItemSelectedListener(mOnNavigationItemSelectedListener)\r\n\r\n        findMed.setOnClickListener{\r\n            val intent= Intent(this, ScanHere::class.java)\r\n            finish()\r\n            startActivity(intent)\r\n\r\n        }\r\n\r\n        myPrescriptions.setOnClickListener{\r\n            val intent= Intent(this, MyPrescription::class.java)\r\n            finish()\r\n            startActivity(intent)\r\n\r\n        }\r\n\r\n        getQuote.setOnClickListener{\r\n            val intent= Intent(this, BuyMedicine::class.java)\r\n            finish()\r\n            startActivity(intent)\r\n        }\r\n\r\n        pharmacy.setOnClickListener{\r\n            val intent= Intent(this, ShowPharmacy::class.java)\r\n            finish()\r\n            startActivity(intent)\r\n        }\r\n\r\n    }\r\n\r\n\r\n\r\n\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/saclim/heypharmaapp/DashboardHome.kt b/app/src/main/java/com/saclim/heypharmaapp/DashboardHome.kt
--- a/app/src/main/java/com/saclim/heypharmaapp/DashboardHome.kt	(revision 369411b1b6cffc791feb5ed39f4d59f7341fa521)
+++ b/app/src/main/java/com/saclim/heypharmaapp/DashboardHome.kt	(date 1672656295261)
@@ -3,8 +3,16 @@
 import android.content.Intent
 import androidx.appcompat.app.AppCompatActivity
 import android.os.Bundle
+import android.widget.TextView
 import androidx.cardview.widget.CardView
+import cn.pedant.SweetAlert.SweetAlertDialog
 import com.google.android.material.bottomnavigation.BottomNavigationView
+import com.google.firebase.auth.FirebaseAuth
+import com.google.firebase.database.DataSnapshot
+import com.google.firebase.database.DatabaseError
+import com.google.firebase.database.FirebaseDatabase
+import com.google.firebase.database.ValueEventListener
+import com.google.firebase.database.ktx.getValue
 import kotlinx.android.synthetic.main.activity_dashboard.*
 import kotlinx.android.synthetic.main.activity_dashboard.Pharmacy
 import kotlinx.android.synthetic.main.activity_dashboard.bottomNavigationView
@@ -16,6 +24,9 @@
     private lateinit var myPrescriptions:CardView
     private lateinit var getQuote:CardView
     private lateinit var pharmacy:CardView
+    private lateinit var welcome:TextView
+
+    private lateinit var loadingDialog: SweetAlertDialog
 
 
 
@@ -27,10 +38,10 @@
         myPrescriptions = findViewById(R.id.MyPrescriptions)
         getQuote = findViewById(R.id.GetQuote)
         pharmacy = findViewById(R.id.Pharmacy)
+        welcome = findViewById(R.id.welcome)
 
         bottomNavigationView.background = null
         bottomNavigationView.menu.getItem(0).isChecked=true
-        //bottomNavigationView.menu.getItem(2).isEnabled = false
 
         val mOnNavigationItemSelectedListener = BottomNavigationView.OnNavigationItemSelectedListener { item ->
             when (item.itemId) {
@@ -68,6 +79,8 @@
 
         bottomNavigationView.setOnNavigationItemSelectedListener(mOnNavigationItemSelectedListener)
 
+        loadProfileDetails()
+
         findMed.setOnClickListener{
             val intent= Intent(this, ScanHere::class.java)
             finish()
@@ -95,8 +108,31 @@
         }
 
     }
-
+    private fun loadProfileDetails(){
+        showLoadingMessage("Loading Your Profile")
+        val firebaseAuth = FirebaseAuth.getInstance()
+        val databaseReference = FirebaseDatabase.getInstance().getReference("Member").child(firebaseAuth.currentUser!!.uid)
+        databaseReference.addValueEventListener(object :ValueEventListener{
+            override fun onDataChange(snapshot: DataSnapshot) {
+                val prof = snapshot.getValue<Member>()
+                if(prof!=null){
+                    welcome.text="Welcome Back ${prof.name}"
+                    loadingDialog.dismissWithAnimation()
+                }else{
+                    loadingDialog.dismissWithAnimation()
+                }
+            }
 
-
-
+            override fun onCancelled(error: DatabaseError) {
+                loadingDialog.dismissWithAnimation()
+            }
+        })
+    }
+    private fun showLoadingMessage(message:String){
+        loadingDialog = SweetAlertDialog(this, SweetAlertDialog.PROGRESS_TYPE)
+            .setTitleText("Please Wait...")
+            .setContentText(message)
+        loadingDialog.setCancelable(false)
+        loadingDialog.show()
+    }
 }
\ No newline at end of file
Index: app/src/main/res/layout/activity_dashboard.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<LinearLayout\r\n    xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\r\n    xmlns:tools=\"http://schemas.android.com/tools\"\r\n    android:layout_width=\"match_parent\"\r\n    android:layout_height=\"match_parent\"\r\n    android:id=\"@+id/topprofilebar\"\r\n    android:orientation=\"vertical\"\r\n    tools:context=\".DashboardHome\"\r\n    android:background=\"@color/white\">\r\n\r\n\r\n\r\n    <com.google.android.material.appbar.AppBarLayout\r\n        android:id=\"@+id/appBarLayout\"\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:background=\"@drawable/rounded_bottom_appbar\"\r\n        app:elevation=\"0dp\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:layout_constraintTop_toTopOf=\"parent\">\r\n\r\n        <androidx.constraintlayout.widget.ConstraintLayout\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"match_parent\"\r\n            android:padding=\"15dp\">\r\n\r\n            <androidx.appcompat.widget.Toolbar\r\n                android:id=\"@+id/myToolbar\"\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"50dp\"\r\n                android:background=\"@color/bluegreen\"\r\n                android:minHeight=\"?attr/actionBarSize\"\r\n                android:theme=\"?attr/actionBarTheme\"\r\n                app:layout_constraintEnd_toEndOf=\"parent\"\r\n                app:layout_constraintHorizontal_bias=\"0.0\"\r\n                app:layout_constraintStart_toStartOf=\"parent\"\r\n                app:layout_constraintTop_toTopOf=\"parent\" />\r\n\r\n            <de.hdodenhof.circleimageview.CircleImageView\r\n                android:id=\"@+id/profile_image\"\r\n                android:layout_width=\"48dp\"\r\n                android:layout_height=\"48dp\"\r\n                android:src=\"@drawable/profile3\"\r\n                app:layout_constraintBottom_toBottomOf=\"parent\"\r\n                app:layout_constraintStart_toStartOf=\"parent\"\r\n                app:layout_constraintTop_toTopOf=\"parent\" />\r\n\r\n            <TextView\r\n                android:id=\"@+id/appname\"\r\n                android:layout_width=\"wrap_content\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_marginStart=\"12dp\"\r\n                android:text=\"HEY PHARMA\"\r\n                android:textColor=\"@color/lightblue\"\r\n                android:textSize=\"20sp\"\r\n                app:layout_constraintStart_toEndOf=\"@+id/profile_image\"\r\n                app:layout_constraintTop_toTopOf=\"@+id/profile_image\" />\r\n\r\n            <TextView\r\n                android:id=\"@+id/welcome\"\r\n                android:layout_width=\"wrap_content\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:text=\"Welcome Back Disha \"\r\n                android:textColor=\"@color/black\"\r\n                android:textSize=\"16sp\"\r\n                app:layout_constraintStart_toStartOf=\"@+id/appname\"\r\n                app:layout_constraintTop_toBottomOf=\"@+id/appname\" />\r\n\r\n            <ImageView\r\n               android:id=\"@+id/notificationsImage\"\r\n               android:layout_width=\"30dp\"\r\n               android:layout_height=\"30dp\" android:visibility=\"invisible\"\r\n               android:src=\"@drawable/ic_baseline_home_24\"\r\n               app:layout_constraintEnd_toEndOf=\"parent\"\r\n               app:layout_constraintTop_toTopOf=\"@+id/profile_image\" />\r\n\r\n\r\n        </androidx.constraintlayout.widget.ConstraintLayout>\r\n\r\n    </com.google.android.material.appbar.AppBarLayout>\r\n\r\n    <com.google.android.material.textview.MaterialTextView\r\n        android:id=\"@+id/Dashboard\"\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:layout_marginStart=\"32dp\"\r\n        android:layout_marginTop=\"10dp\"\r\n        android:layout_marginEnd=\"32dp\"\r\n        android:layout_marginBottom=\"24dp\"\r\n        android:text=\"DASHBOARD \"\r\n        android:textColor=\"@color/bluegreen\"\r\n        android:textSize=\"24dp\"\r\n        android:textStyle=\"bold\"\r\n        app:layout_constraintTop_toBottomOf=\"@id/appBarLayout\"\r\n        tools:ignore=\"MissingConstraints\" />\r\n\r\n\r\n    <ScrollView\r\n\r\n        android:layout_width=\"fill_parent\"\r\n        android:layout_height=\"380dp\">\r\n\r\n        <androidx.constraintlayout.widget.ConstraintLayout\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"match_parent\">\r\n\r\n\r\n            <com.google.android.material.card.MaterialCardView\r\n                android:id=\"@+id/FindMed\"\r\n                android:layout_width=\"wrap_content\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_marginStart=\"32dp\"\r\n                android:layout_marginTop=\"10dp\"\r\n                android:clickable=\"true\"\r\n                app:cardBackgroundColor=\"@color/white\"\r\n                app:cardCornerRadius=\"15dp\"\r\n                app:cardElevation=\"10dp\"\r\n                app:layout_constraintStart_toStartOf=\"parent\"\r\n                app:layout_constraintTop_toTopOf=\"parent\"\r\n                tools:ignore=\"MissingConstraints\">\r\n\r\n                <LinearLayout\r\n                    android:layout_width=\"match_parent\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:orientation=\"vertical\">\r\n\r\n                    <ImageView\r\n                        android:layout_width=\"90dp\"\r\n                        android:layout_height=\"90dp\"\r\n                        android:layout_gravity=\"center\"\r\n                        android:layout_marginLeft=\"20dp\"\r\n                        android:layout_marginTop=\"10dp\"\r\n                        android:layout_marginRight=\"20dp\"\r\n                        android:contentDescription=\"\"\r\n                        android:scaleType=\"centerCrop\"\r\n                        app:srcCompat=\"@drawable/scan\" />\r\n\r\n                    <TextView\r\n                        android:layout_width=\"wrap_content\"\r\n                        android:layout_height=\"wrap_content\"\r\n                        android:layout_gravity=\"center\"\r\n                        android:layout_marginLeft=\"12dp\"\r\n                        android:layout_marginRight=\"12dp\"\r\n                        android:layout_marginBottom=\"8dp\"\r\n                        android:text=\"Find\\nMed\"\r\n                        android:textAlignment=\"center\"\r\n                        android:textAppearance=\"?attr/textAppearanceHeadline6\"\r\n                        android:textColor=\"@color/darkgray\" />\r\n                </LinearLayout>\r\n\r\n            </com.google.android.material.card.MaterialCardView>\r\n\r\n\r\n            <com.google.android.material.card.MaterialCardView\r\n                android:id=\"@+id/MyPrescriptions\"\r\n                android:layout_width=\"wrap_content\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_marginTop=\"10dp\"\r\n                android:layout_marginEnd=\"32dp\"\r\n                android:clickable=\"true\"\r\n                app:cardBackgroundColor=\"@color/white\"\r\n                app:cardCornerRadius=\"15dp\"\r\n                app:cardElevation=\"10dp\"\r\n                app:layout_constraintEnd_toEndOf=\"parent\"\r\n                app:layout_constraintTop_toTopOf=\"parent\"\r\n                tools:ignore=\"MissingConstraints\">\r\n\r\n\r\n                <LinearLayout\r\n                    android:layout_width=\"match_parent\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:orientation=\"vertical\">\r\n\r\n                    <ImageView\r\n                        android:layout_width=\"90dp\"\r\n                        android:layout_height=\"90dp\"\r\n                        android:layout_gravity=\"center\"\r\n                        android:layout_marginLeft=\"20dp\"\r\n                        android:layout_marginTop=\"10dp\"\r\n                        android:layout_marginRight=\"20dp\"\r\n                        android:contentDescription=\"\"\r\n                        android:scaleType=\"centerCrop\"\r\n                        app:srcCompat=\"@drawable/prescription\" />\r\n\r\n                    <TextView\r\n                        android:layout_width=\"wrap_content\"\r\n                        android:layout_height=\"wrap_content\"\r\n                        android:layout_gravity=\"center\"\r\n                        android:layout_marginLeft=\"12dp\"\r\n                        android:layout_marginRight=\"12dp\"\r\n                        android:layout_marginBottom=\"8dp\"\r\n                        android:text=\"My\\nPrescriptions\"\r\n                        android:textAlignment=\"center\"\r\n                        android:textAppearance=\"?attr/textAppearanceHeadline6\"\r\n                        android:textColor=\"@color/darkgray\" />\r\n                </LinearLayout>\r\n\r\n            </com.google.android.material.card.MaterialCardView>\r\n\r\n            <com.google.android.material.card.MaterialCardView\r\n                android:id=\"@+id/Pharmacy\"\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_marginStart=\"32dp\"\r\n                android:layout_marginTop=\"15dp\"\r\n                android:layout_marginEnd=\"32dp\"\r\n                android:clickable=\"true\"\r\n                app:cardBackgroundColor=\"@color/white\"\r\n                app:cardCornerRadius=\"15dp\"\r\n                app:cardElevation=\"10dp\"\r\n                app:layout_constraintEnd_toEndOf=\"parent\"\r\n                app:layout_constraintStart_toStartOf=\"parent\"\r\n                app:layout_constraintTop_toBottomOf=\"@+id/FindMed\"\r\n                tools:ignore=\"MissingConstraints\">\r\n\r\n\r\n                <LinearLayout\r\n                    android:layout_width=\"match_parent\"\r\n                    android:layout_height=\"match_parent\"\r\n                    android:orientation=\"horizontal\">\r\n\r\n                    <ImageView\r\n                        android:layout_width=\"90dp\"\r\n                        android:layout_height=\"90dp\"\r\n                        android:layout_gravity=\"center\"\r\n                        android:layout_marginLeft=\"25dp\"\r\n                        android:layout_marginTop=\"8dp\"\r\n                        android:layout_marginRight=\"20dp\"\r\n                        android:layout_marginBottom=\"8dp\"\r\n                        android:contentDescription=\"\"\r\n                        android:scaleType=\"centerCrop\"\r\n                        app:srcCompat=\"@drawable/pharmacy\" />\r\n\r\n                    <TextView\r\n                        android:layout_width=\"match_parent\"\r\n                        android:layout_height=\"wrap_content\"\r\n                        android:layout_gravity=\"center\"\r\n                        android:text=\"Pharmacy\"\r\n                        android:textAlignment=\"center\"\r\n                        android:textAppearance=\"?attr/textAppearanceHeadline6\"\r\n                        android:textColor=\"@color/darkgray\" />\r\n                </LinearLayout>\r\n            </com.google.android.material.card.MaterialCardView>\r\n\r\n            <com.google.android.material.card.MaterialCardView\r\n                android:id=\"@+id/GetQuote\"\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_marginStart=\"32dp\"\r\n                android:layout_marginTop=\"15dp\"\r\n                android:layout_marginEnd=\"32dp\"\r\n                android:layout_marginBottom=\"32dp\"\r\n                android:clickable=\"true\"\r\n                app:cardBackgroundColor=\"@color/white\"\r\n                app:cardCornerRadius=\"15dp\"\r\n                app:cardElevation=\"10dp\"\r\n                app:layout_constraintBottom_toBottomOf=\"parent\"\r\n                app:layout_constraintEnd_toEndOf=\"parent\"\r\n                app:layout_constraintStart_toStartOf=\"parent\"\r\n                app:layout_constraintTop_toBottomOf=\"@+id/Pharmacy\"\r\n                tools:ignore=\"DuplicateIds,MissingConstraints\">\r\n\r\n                <LinearLayout\r\n                    android:layout_width=\"match_parent\"\r\n                    android:layout_height=\"match_parent\"\r\n                    android:orientation=\"horizontal\">\r\n\r\n                    <ImageView\r\n                        android:layout_width=\"90dp\"\r\n                        android:layout_height=\"90dp\"\r\n                        android:layout_gravity=\"center\"\r\n                        android:layout_marginLeft=\"25dp\"\r\n                        android:layout_marginTop=\"8dp\"\r\n                        android:layout_marginRight=\"20dp\"\r\n                        android:layout_marginBottom=\"8dp\"\r\n                        android:contentDescription=\"\"\r\n                        android:scaleType=\"centerCrop\"\r\n                        app:srcCompat=\"@drawable/quote\"/>\r\n\r\n                    <TextView\r\n                        android:layout_width=\"match_parent\"\r\n                        android:layout_height=\"wrap_content\"\r\n                        android:layout_gravity=\"center\"\r\n                        android:text=\"Get Quote\"\r\n                        android:textAlignment=\"center\"\r\n                        android:textAppearance=\"?attr/textAppearanceHeadline6\"\r\n                        android:textColor=\"@color/darkgray\" />\r\n                </LinearLayout>\r\n            </com.google.android.material.card.MaterialCardView>\r\n\r\n\r\n        </androidx.constraintlayout.widget.ConstraintLayout>\r\n\r\n    </ScrollView>\r\n\r\n    <androidx.coordinatorlayout.widget.CoordinatorLayout\r\n        android:layout_width=\"wrap_content\"\r\n        android:layout_height=\"match_parent\"\r\n        android:background=\"@android:color/transparent\">\r\n\r\n        <com.google.android.material.bottomappbar.BottomAppBar\r\n            android:id=\"@+id/bottomAppBar\"\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:layout_gravity=\"bottom\"\r\n            app:fabCradleMargin=\"20dp\"\r\n            app:fabCradleRoundedCornerRadius=\"20dp\"\r\n            app:fabCradleVerticalOffset=\"10dp\">\r\n\r\n            <com.google.android.material.bottomnavigation.BottomNavigationView\r\n                android:id=\"@+id/bottomNavigationView\"\r\n                android:layout_width=\"wrap_content\"\r\n                android:layout_height=\"match_parent\"\r\n                android:layout_marginEnd=\"12dp\"\r\n                android:background=\"@android:color/transparent\"\r\n                app:menu=\"@menu/bottom_nav_menu\" />\r\n\r\n        </com.google.android.material.bottomappbar.BottomAppBar>\r\n\r\n        <com.google.android.material.floatingactionbutton.FloatingActionButton\r\n            android:id=\"@+id/fab\"\r\n            android:layout_width=\"wrap_content\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:src=\"@drawable/ic_add\"\r\n            app:layout_anchor=\"@id/bottomAppBar\"\r\n            android:backgroundTint=\"@color/bluegreen\"/>\r\n\r\n    </androidx.coordinatorlayout.widget.CoordinatorLayout>\r\n\r\n\r\n</LinearLayout>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/res/layout/activity_dashboard.xml b/app/src/main/res/layout/activity_dashboard.xml
--- a/app/src/main/res/layout/activity_dashboard.xml	(revision 369411b1b6cffc791feb5ed39f4d59f7341fa521)
+++ b/app/src/main/res/layout/activity_dashboard.xml	(date 1672656188195)
@@ -63,7 +63,7 @@
                 android:id="@+id/welcome"
                 android:layout_width="wrap_content"
                 android:layout_height="wrap_content"
-                android:text="Welcome Back Disha "
+                android:text=""
                 android:textColor="@color/black"
                 android:textSize="16sp"
                 app:layout_constraintStart_toStartOf="@+id/appname"
